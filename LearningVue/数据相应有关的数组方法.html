<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>数据相应有关的数组方法</title>
		<script src="vue.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div id="app">
			<h2>用户列表</h2>
			<button type="button" v-on:click="createUser">创建用户</button>
			<button type="button" @click="reverse">倒序数组</button>
			
			<ul>
				<li v-for="(user, index) in users">
					用户{{ index + 1 }}
					<ul>
						<li v-for="(value, key) of user">
							<strong style="display: inline-block;width: 3.75rem;"> {{ key }}: </strong>
							<span> {{ value }}</span>
						</li>
					</ul>
				</li>
			</ul>
		</div>
		<script type="text/javascript">
			let vm = new Vue({
				el: '#app',
				data: () => ({
					users: [],
				}),
				methods: {
					random (factor, base) {
						return Math.floor(Math.random() * (factor || 1)) + (base || 0)
					},
					createUser() {
						//获取name大写首字母
						let fLetter = 'BJHK'[this.random(3.99)]
						//随机截取 name 字符串
						let nameStr = 'abcdefghijklmnopqrstuvwxyz'
						let bLetters = nameStr.substr(this.random(19.999), this.random(3.999), 3)
						let user = {
							name: fLetter + bLetters,
							age: this.random(5.999, 25),
							city: ['Chicago', 'Sydney', 'ShenZhen', 'HangZhou'][this.random(3.999)]
						}
						console.log('------------ 创建用户 ------------\n', user)
						this.users.push(user)
					},
					reverse() {
						console.log('------------ 倒序列表 ------------')
						console.log('Before: ', this.users.map(user => user.name))
						this.users.reverse()
						console.log('After: ', this.users.map(user => user.name))
					}
				}
			})
		</script>
	</body>
</html>
